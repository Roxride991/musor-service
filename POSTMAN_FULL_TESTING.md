# üß™ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ Postman

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ë–∞–∑–æ–≤—ã–π URL
```
http://localhost:8080
```

### –í–∞–∂–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

**–î–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (–∫—Ä–æ–º–µ `/api/auth/**` –∏ `/api/zones/active`):**
```
X-User-Id: <ID_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>
Content-Type: application/json
```

---

## üîê 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

### 1.1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/auth/register
Content-Type: application/json

Body (raw JSON):
{
    "phone": "+79001234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–æ–ª–∏:** `CLIENT`, `COURIER`, `ADMIN`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "phone": "+79001234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤!**

---

### 1.2. –û—Ç–ø—Ä–∞–≤–∫–∞ OTP –∫–æ–¥–∞

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/auth/send-code
Content-Type: application/json

Body (raw JSON):
{
    "phone": "+79001234567"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "message": "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω",
    "code": "1234"
}
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `code` –¥–ª—è –≤—Ö–æ–¥–∞!**

---

### 1.3. –í—Ö–æ–¥ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏ –∫–æ–¥—É

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/auth/login
Content-Type: application/json

Body (raw JSON):
{
    "phone": "+79001234567",
    "code": "1234"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "phone": "+79001234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

---

## üë§ 2. –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`/api/users`)

### 2.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/users/me
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "phone": "+79001234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

---

### 2.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏

**–ó–∞–ø—Ä–æ—Å:**
```
PATCH http://localhost:8080/api/users/me/name
Headers:
  X-User-Id: 1
  Content-Type: application/json

Body (raw JSON):
{
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "phone": "+79001234567",
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "role": "CLIENT"
}
```

---

## üì¶ 3. –ó–∞–∫–∞–∑—ã (`/api/orders`)

### 3.1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (—Ç–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å)

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/orders
Headers:
  X-User-Id: 1
  Content-Type: application/json

Body (raw JSON):
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "comment": "–î–æ–º–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "20.01.2025 14:00",
    "comment": "–î–æ–º–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç",
    "status": "PUBLISHED",
    "subscriptionId": null,
    "courierId": null,
    "isAvailable": null
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ê–¥—Ä–µ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å.–ì–µ–æ–∫–æ–¥–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω—É—é –∑–æ–Ω—É.

---

### 3.2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–∞–¥—Ä–µ—Å + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/orders
Headers:
  X-User-Id: 1
  Content-Type: application/json

Body (raw JSON):
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "2025-01-20T15:00:00+03:00",
    "comment": "–ü–æ–∑–≤–æ–Ω–∏—Ç—å –∑–∞ —á–∞—Å",
    "lat": 51.7750,
    "lng": 55.1100
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä–µ–¥–∞–Ω—ã, –≥–µ–æ–∫–æ–¥–µ—Ä –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (—ç–∫–æ–Ω–æ–º–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤).

---

### 3.3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/orders
Headers:
  X-User-Id: 1
  Content-Type: application/json

Body (raw JSON):
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "2025-01-20T16:00:00+03:00",
    "comment": "–ó–∞–∫–∞–∑ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ",
    "subscriptionId": 1
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 2,
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "20.01.2025 16:00",
    "comment": "–ó–∞–∫–∞–∑ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ",
    "status": "PUBLISHED",
    "subscriptionId": 1,
    "courierId": null,
    "isAvailable": null
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ–¥–ø–∏—Å–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–∞ (`ACTIVE`).

---

### 3.4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/orders
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
        "pickupTime": "20.01.2025 14:00",
        "status": "PUBLISHED",
        ...
    },
    {
        "id": 2,
        "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
        "pickupTime": "20.01.2025 16:00",
        "status": "PUBLISHED",
        ...
    }
]
```

---

### 3.5. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –∫—É—Ä—å–µ—Ä–∞

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/orders/available
Headers:
  X-User-Id: 2  (COURIER)
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
        "pickupTime": "20.01.2025 14:00",
        "status": "PUBLISHED",
        "isAvailable": true
    }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `PUBLISHED`, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –ø—Ä–∏–Ω—è—Ç—ã –∫—É—Ä—å–µ—Ä–æ–º.

---

### 3.6. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –∫—É—Ä—å–µ—Ä–∞

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/orders/active
Headers:
  X-User-Id: 2  (COURIER)
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
        "pickupTime": "20.01.2025 14:00",
        "status": "ACCEPTED",
        "courierId": 2,
        "isAvailable": false
    }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∑–∞–∫–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω—è—Ç—ã —Ç–µ–∫—É—â–∏–º –∫—É—Ä—å–µ—Ä–æ–º.

---

### 3.7. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –∫—É—Ä—å–µ—Ä–∞

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/orders/stats
Headers:
  X-User-Id: 2  (COURIER)
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "availableCount": 5,
    "activeCount": 2
}
```

---

### 3.8. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ ID

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/orders/1
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "20.01.2025 14:00",
    "status": "PUBLISHED",
    ...
}
```

---

### 3.9. –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–º

**–ó–∞–ø—Ä–æ—Å:**
```
DELETE http://localhost:8080/api/orders/1/cancel
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "status": "CANCELED",
    ...
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `PUBLISHED`.

---

### 3.10. –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/orders/1/accept
Headers:
  X-User-Id: 2  (COURIER)
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "status": "ACCEPTED",
    "courierId": 2,
    ...
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `PUBLISHED`.

---

### 3.11. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º

**–ó–∞–ø—Ä–æ—Å:**
```
PATCH http://localhost:8080/api/orders/1/status
Headers:
  X-User-Id: 2  (COURIER)
  Content-Type: application/json

Body (raw JSON):
{
    "status": "IN_PROGRESS"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:** `IN_PROGRESS`, `COMPLETED`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "status": "IN_PROGRESS",
    ...
}
```

---

### 3.12. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

**–ó–∞–ø—Ä–æ—Å:**
```
PATCH http://localhost:8080/api/orders/1/admin/status
Headers:
  X-User-Id: 3  (ADMIN)
  Content-Type: application/json

Body (raw JSON):
{
    "status": "COMPLETED"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:** `PUBLISHED`, `ACCEPTED`, `IN_PROGRESS`, `COMPLETED`, `CANCELED`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "status": "COMPLETED",
    ...
}
```

---

## üìã 4. –ü–æ–¥–ø–∏—Å–∫–∏ (`/api/subscriptions`)

### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/subscriptions
Headers:
  X-User-Id: 1
  Content-Type: application/json

Body (raw JSON):
{
    "plan": "MONTHLY"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–ª–∞–Ω—ã:** `MONTHLY`, `QUARTERLY`, `YEARLY`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "plan": "MONTHLY",
    "status": "ACTIVE",
    "startDate": "15.01.2025 10:00",
    "endDate": "15.02.2025 10:00"
}
```

---

### 4.2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/subscriptions
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "plan": "MONTHLY",
        "status": "ACTIVE",
        ...
    },
    {
        "id": 2,
        "plan": "QUARTERLY",
        "status": "PAUSED",
        ...
    }
]
```

---

### 4.3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/subscriptions/active
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "plan": "MONTHLY",
        "status": "ACTIVE",
        ...
    }
]
```

---

### 4.4. –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:**
```
DELETE http://localhost:8080/api/subscriptions/1
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (204 No Content)**

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ–¥–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `CANCELED`.

---

### 4.5. –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:**
```
PATCH http://localhost:8080/api/subscriptions/1/pause
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "plan": "MONTHLY",
    "status": "PAUSED",
    ...
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É.

---

### 4.6. –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:**
```
PATCH http://localhost:8080/api/subscriptions/1/resume
Headers:
  X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "plan": "MONTHLY",
    "status": "ACTIVE",
    ...
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É.

---

## üó∫Ô∏è 5. –ó–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (`/api/zones`)

### 5.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã (–ø—É–±–ª–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç)

**–ó–∞–ø—Ä–æ—Å:**
```
GET http://localhost:8080/api/zones/active
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "active": true,
    "coordinates": [
        {"lat": 51.7687, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1217},
        {"lat": 51.7687, "lng": 55.1217}
    ]
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ `X-User-Id`.

---

### 5.2. –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã (—Ç–æ–ª—å–∫–æ ADMIN)

**–ó–∞–ø—Ä–æ—Å:**
```
POST http://localhost:8080/api/zones
Headers:
  X-User-Id: 3  (ADMIN)
  Content-Type: application/json

Body (raw JSON):
{
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "coordinates": [
        {"lat": 51.7687, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1217},
        {"lat": 51.7687, "lng": 55.1217}
    ]
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "active": true,
    "coordinates": [
        {"lat": 51.7687, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1217},
        {"lat": 51.7687, "lng": 55.1217}
    ]
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∑–æ–Ω—ã –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–æ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è.

---

## üß™ –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ö–ª–∏–µ–Ω—Ç:**
   ```
   POST /api/auth/register
   {
       "phone": "+79001111111",
       "name": "–ö–ª–∏–µ–Ω—Ç –¢–µ—Å—Ç–æ–≤—ã–π",
       "role": "CLIENT"
   }
   ```
   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1`)

2. **–ö—É—Ä—å–µ—Ä:**
   ```
   POST /api/auth/register
   {
       "phone": "+79002222222",
       "name": "–ö—É—Ä—å–µ—Ä –¢–µ—Å—Ç–æ–≤—ã–π",
       "role": "COURIER"
   }
   ```
   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2`)

3. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
   ```
   POST /api/auth/register
   {
       "phone": "+79003333333",
       "name": "–ê–¥–º–∏–Ω –¢–µ—Å—Ç–æ–≤—ã–π",
       "role": "ADMIN"
   }
   ```
   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `3`)

---

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã (ADMIN)

```
POST /api/zones
Headers:
  X-User-Id: 3
Body:
{
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "coordinates": [
        {"lat": 51.7687, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1217},
        {"lat": 51.7687, "lng": 55.1217}
    ]
}
```

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (CLIENT)

```
POST /api/subscriptions
Headers:
  X-User-Id: 1
Body:
{
    "plan": "MONTHLY"
}
```

---

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (CLIENT)

**–í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å (–≥–µ–æ–∫–æ–¥–∏–Ω–≥)**
```
POST /api/orders
Headers:
  X-User-Id: 1
Body:
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "comment": "–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑"
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ê–¥—Ä–µ—Å + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**
```
POST /api/orders
Headers:
  X-User-Id: 1
Body:
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "2025-01-20T15:00:00+03:00",
    "lat": 51.7750,
    "lng": 55.1100
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–∫–∞–∑ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ**
```
POST /api/orders
Headers:
  X-User-Id: 1
Body:
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10",
    "pickupTime": "2025-01-20T16:00:00+03:00",
    "subscriptionId": 1
}
```

---

### –®–∞–≥ 5: –†–∞–±–æ—Ç–∞ –∫—É—Ä—å–µ—Ä–∞

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤:**
   ```
   GET /api/orders/available
   Headers:
     X-User-Id: 2
   ```

2. **–ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞:**
   ```
   POST /api/orders/1/accept
   Headers:
     X-User-Id: 2
   ```

3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:**
   ```
   PATCH /api/orders/1/status
   Headers:
     X-User-Id: 2
   Body:
   {
       "status": "IN_PROGRESS"
   }
   ```

4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
   ```
   PATCH /api/orders/1/status
   Headers:
     X-User-Id: 2
   Body:
   {
       "status": "COMPLETED"
   }
   ```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 403 Forbidden

**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-Id` –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-Id: <ID_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î

### 400 Bad Request - "–ê–¥—Ä–µ—Å –≤–Ω–µ –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è"

**–ü—Ä–∏—á–∏–Ω–∞:** –ê–¥—Ä–µ—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥—Ä–µ—Å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã
- –ò–ª–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∑–æ–Ω–µ

### 400 Bad Request - "–ê–∫—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã –≤ –ë–î.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–π—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –∑–æ–Ω—É —á–µ—Ä–µ–∑ `POST /api/zones` (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å ADMIN)

### 400 Bad Request - "–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–¥–ø–∏—Å–∫–∞ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–µ `ACTIVE`.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
- –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ `PATCH /api/subscriptions/{id}/resume`

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (CLIENT, COURIER, ADMIN)
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ OTP –∫–æ–¥–∞
- [ ] –í—Ö–æ–¥ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏ –∫–æ–¥—É
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã (ADMIN)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã (–ø—É–±–ª–∏—á–Ω—ã–π)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (CLIENT)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (—Ç–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–∞–¥—Ä–µ—Å + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (COURIER)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (COURIER)
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (COURIER)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ ID
- [ ] –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–º
- [ ] –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∫–∞–∫ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ Postman.

**–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-Id` –¥–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤!







