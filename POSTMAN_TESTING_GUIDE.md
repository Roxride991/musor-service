# üìö –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é API –≤ Postman

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
2. [–ò–º–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏](#–∏–º–ø–æ—Ä—Ç-–∫–æ–ª–ª–µ–∫—Ü–∏–∏)
3. [–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
4. [–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤](#–¥–µ—Ç–∞–ª—å–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–≤—Å–µ—Ö-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
5. [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤](#–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤-–∏-–æ—Ç–≤–µ—Ç–æ–≤)
6. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
7. [–ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#—á–µ–∫-–ª–∏—Å—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Postman** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- **Backend** –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8080`
- **PostgreSQL** –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `musor_service` —Å–æ–∑–¥–∞–Ω–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------------------|----------|
| `baseUrl` | `http://localhost:8080` | –ë–∞–∑–æ–≤—ã–π URL API |
| `clientUserId` | `1` | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é CLIENT |
| `courierUserId` | `2` | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é COURIER |
| `adminUserId` | `3` | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é ADMIN |
| `orderId` | `1` | ID –∑–∞–∫–∞–∑–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `subscriptionId` | `1` | ID –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `otpCode` | - | OTP –∫–æ–¥ (–±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) |

---

## üì• –ò–º–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. –ù–∞–∂–º–∏—Ç–µ **Import** (–∏–ª–∏ `Ctrl+O` / `Cmd+O`)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `postman_collection.json`
4. –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ—è–≤–∏—Ç—Å—è –≤ –≤–∞—à–µ–º —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
5. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (—Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí Edit)
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–µ **Variables**

---

## üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 1.1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–ó–∞–ø—Ä–æ—Å:** `POST /api/auth/register`

```json
{
    "phone": "+79051234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "phone": "+79051234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` –∏–∑ –æ—Ç–≤–µ—Ç–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `clientUserId`

#### 1.2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫—É—Ä—å–µ—Ä–∞

**–ó–∞–ø—Ä–æ—Å:** `POST /api/auth/register`

```json
{
    "phone": "+79059876543",
    "name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
    "role": "COURIER"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 2,
    "phone": "+79059876543",
    "name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
    "role": "COURIER"
}
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` –∏–∑ –æ—Ç–≤–µ—Ç–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `courierUserId`

#### 1.3. –û—Ç–ø—Ä–∞–≤–∫–∞ OTP –∫–æ–¥–∞ (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)

**–ó–∞–ø—Ä–æ—Å:** `POST /api/auth/send-code`

```json
{
    "phone": "+79051234567"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "message": "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω",
    "code": "1234"
}
```

**–í–∞–∂–Ω–æ:** 
- –í MVP –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∫–æ–¥ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ SMS
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `otpCode` –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞

#### 1.4. –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

**–ó–∞–ø—Ä–æ—Å:** `POST /api/auth/login`

**–í–∞—Ä–∏–∞–Ω—Ç 1: –° OTP –∫–æ–¥–æ–º (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)**
```json
{
    "phone": "+79051234567",
    "code": "1234"
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –° —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)**
```json
{
    "phone": "+79051234567",
    "code": "0000"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "phone": "+79051234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

---

### –®–∞–≥ 2: –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)

#### 2.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

**–ó–∞–ø—Ä–æ—Å:** `GET /api/users/me`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "phone": "+79051234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "CLIENT"
}
```

#### 2.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏

**–ó–∞–ø—Ä–æ—Å:** `PATCH /api/users/me/name`

**Headers:**
```
X-User-Id: 1
Content-Type: application/json
```

**Body:**
```json
{
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "phone": "+79051234567",
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "role": "CLIENT"
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
- ‚ùå –ò–º—è –º–µ–Ω—å—à–µ 2 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí 400 Bad Request
- ‚ùå –ò–º—è –±–æ–ª—å—à–µ 50 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí 400 Bad Request
- ‚ùå –ò–º—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–∏—Ñ—Ä—ã ‚Üí 400 Bad Request
- ‚úÖ –ò–º—è 2-50 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å ‚Üí 200 OK

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (ADMIN)

**–í–∞–∂–Ω–æ:** –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –Ω—É–∂–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞!

#### 3.1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

**–ó–∞–ø—Ä–æ—Å:** `POST /api/zones`

**Headers:**
```
X-User-Id: 3
Content-Type: application/json
```

**Body:**
```json
{
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "coordinates": [
        {"lat": 51.7687, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1017},
        {"lat": 51.7887, "lng": 55.1217},
        {"lat": 51.7687, "lng": 55.1217}
    ]
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "active": true,
    "coordinates": [...]
}
```

#### 3.2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã

**–ó–∞–ø—Ä–æ—Å:** `GET /api/zones/active`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "active": true,
    "coordinates": [...]
}
```

---

### –®–∞–≥ 4: –†–∞–±–æ—Ç–∞ —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ (CLIENT)

#### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:** `POST /api/subscriptions`

**Headers:**
```
X-User-Id: 1
Content-Type: application/json
```

**Body:**
```json
{
    "plan": "WEEKLY"
}
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–Ω—ã:**
- `WEEKLY` - –Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (900 —Ä—É–±.)
- `MONTHLY` - –º–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (2500 —Ä—É–±.)

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "plan": "WEEKLY",
    "startDate": "2025-01-15",
    "endDate": "2025-01-22",
    "price": 900.00,
    "status": "ACTIVE"
}
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `subscriptionId`

#### 4.2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫

**–ó–∞–ø—Ä–æ—Å:** `GET /api/subscriptions`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "plan": "WEEKLY",
        "startDate": "2025-01-15",
        "endDate": "2025-01-22",
        "price": 900.00,
        "status": "ACTIVE"
    }
]
```

#### 4.3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)

**–ó–∞–ø—Ä–æ—Å:** `GET /api/subscriptions/active`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "plan": "WEEKLY",
        "startDate": "2025-01-15",
        "endDate": "2025-01-22",
        "price": 900.00,
        "status": "ACTIVE"
    }
]
```

**–û—Ç–ª–∏—á–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ –∏—Å—Ç–µ–∫—à–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

#### 4.4. –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:** `PATCH /api/subscriptions/1/pause`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "plan": "WEEKLY",
    "status": "PAUSED",
    ...
}
```

#### 4.5. –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:** `PATCH /api/subscriptions/1/resume`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "plan": "WEEKLY",
    "status": "ACTIVE",
    ...
}
```

#### 4.6. –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏

**–ó–∞–ø—Ä–æ—Å:** `DELETE /api/subscriptions/1`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (204 No Content)**

---

### –®–∞–≥ 5: –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏

#### 5.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ (CLIENT)

**–ó–∞–ø—Ä–æ—Å:** `POST /api/orders`

**Headers:**
```
X-User-Id: 1
Content-Type: application/json
```

**–í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å (–Ω–æ–≤–æ–µ!)** üÜï

**Body:**
```json
{
    "address": "–û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1, –ø–æ–¥—ä–µ–∑–¥ 3",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "comment": "–î–æ–º–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–≤–æ–Ω–∏—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ê–¥—Ä–µ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å.–ì–µ–æ–∫–æ–¥–µ—Ä
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω—É—é –∑–æ–Ω—É
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –∞–¥—Ä–µ—Å –≤ –∑–æ–Ω–µ ‚úÖ

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ê–¥—Ä–µ—Å + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

**Body:**
```json
{
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1, –ø–æ–¥—ä–µ–∑–¥ 3",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "comment": "–î–æ–º–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–≤–æ–Ω–∏—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É",
    "lat": 51.7687,
    "lng": 55.1017
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ì–µ–æ–∫–æ–¥–µ—Ä –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (—ç–∫–æ–Ω–æ–º–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–¥—Ä–µ—Å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- –í—Ä–µ–º—è –≤—ã–≤–æ–∑–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º —á–µ—Ä–µ–∑ 1 —á–∞—Å
- –í—Ä–µ–º—è –≤—ã–≤–æ–∑–∞ –Ω–µ –±–æ–ª–µ–µ 7 –¥–Ω–µ–π –≤ –±—É–¥—É—â–µ–º
- –ê–¥—Ä–µ—Å/–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∑–æ–Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 1,
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1, –ø–æ–¥—ä–µ–∑–¥ 3",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "comment": "–î–æ–º–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–≤–æ–Ω–∏—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É",
    "status": "PUBLISHED",
    "price": 300.00,
    "clientName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "courierName": null,
    "isAvailable": null,
    "createdAt": "2025-01-15T10:00:00+03:00"
}
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `orderId`

#### 5.2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ (CLIENT)

**–ó–∞–ø—Ä–æ—Å:** `POST /api/orders`

**Headers:**
```
X-User-Id: 1
Content-Type: application/json
```

**Body:**
```json
{
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 2",
    "pickupTime": "2025-01-21T10:00:00+03:00",
    "comment": "–£ –¥–≤–µ—Ä–∏",
    "subscriptionId": 1,
    "lat": 51.7687,
    "lng": 55.1017
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (201 Created):**
```json
{
    "id": 2,
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 2",
    "pickupTime": "2025-01-21T10:00:00+03:00",
    "status": "PUBLISHED",
    "price": null,
    ...
}
```

**–û—Ç–ª–∏—á–∏–µ:** –î–ª—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ `price` = `null` (–ø–ª–∞—Ç–µ–∂ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è)

#### 5.3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (CLIENT)

**–ó–∞–ø—Ä–æ—Å:** `GET /api/orders`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1",
        "status": "PUBLISHED",
        ...
    },
    {
        "id": 2,
        "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 2",
        "status": "PUBLISHED",
        ...
    }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** CLIENT –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã

#### 5.4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (COURIER) - –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ó–∞–ø—Ä–æ—Å:** `GET /api/orders/available`

**Headers:**
```
X-User-Id: 2
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 1,
        "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1",
        "status": "PUBLISHED",
        "isAvailable": true,
        "courierName": null,
        ...
    }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `PUBLISHED` –±–µ–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—å–µ—Ä–∞
- –ü–æ–ª–µ `isAvailable` = `true`

#### 5.5. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –∫—É—Ä—å–µ—Ä–∞ (COURIER) - –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ó–∞–ø—Ä–æ—Å:** `GET /api/orders/active`

**Headers:**
```
X-User-Id: 2
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
[
    {
        "id": 3,
        "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10",
        "status": "ACCEPTED",
        "isAvailable": false,
        "courierName": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
        ...
    }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏: `ACCEPTED`, `ON_THE_WAY`, `PICKED_UP`
- –ü–æ–ª–µ `isAvailable` = `false`

#### 5.6. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–∫–∞–∑–æ–≤ (COURIER) - –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ó–∞–ø—Ä–æ—Å:** `GET /api/orders/stats`

**Headers:**
```
X-User-Id: 2
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "availableCount": 5,
    "activeCount": 2
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

#### 5.7. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ ID

**–ó–∞–ø—Ä–æ—Å:** `GET /api/orders/1`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "status": "PUBLISHED",
    ...
}
```

#### 5.8. –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º (COURIER)

**–ó–∞–ø—Ä–æ—Å:** `POST /api/orders/1/accept`

**Headers:**
```
X-User-Id: 2
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "status": "ACCEPTED",
    "courierName": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
    ...
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è —Å `PUBLISHED` –Ω–∞ `ACCEPTED`
- –ö—É—Ä—å–µ—Ä –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –Ω–∞ –∑–∞–∫–∞–∑
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (SELECT FOR UPDATE)

#### 5.9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ (COURIER)

**–ó–∞–ø—Ä–æ—Å:** `PATCH /api/orders/1/status`

**Headers:**
```
X-User-Id: 2
Content-Type: application/json
```

**Body:**
```json
{
    "status": "ON_THE_WAY"
}
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤:**
- `ACCEPTED` ‚Üí `ON_THE_WAY`
- `ON_THE_WAY` ‚Üí `PICKED_UP`
- `PICKED_UP` ‚Üí `COMPLETED`
- `ACCEPTED` / `ON_THE_WAY` ‚Üí `CANCELLED_BY_COURIER`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK):**
```json
{
    "id": 1,
    "status": "ON_THE_WAY",
    ...
}
```

#### 5.10. –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–º (CLIENT)

**–ó–∞–ø—Ä–æ—Å:** `DELETE /api/orders/1/cancel`

**Headers:**
```
X-User-Id: 1
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (204 No Content)**

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ –≤–∑—è—Ç–∏—è –∫—É—Ä—å–µ—Ä–æ–º (—Å—Ç–∞—Ç—É—Å `PUBLISHED`)

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–æ–º

1. **–ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑**
   ```
   POST /api/orders
   ‚Üí 201 Created, orderId = 1
   ```

2. **–ö—É—Ä—å–µ—Ä –≤–∏–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –∑–∞–∫–∞–∑**
   ```
   GET /api/orders/available
   ‚Üí 200 OK, [–∑–∞–∫–∞–∑ —Å id=1, isAvailable=true]
   ```

3. **–ö—É—Ä—å–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑**
   ```
   POST /api/orders/1/accept
   ‚Üí 200 OK, status=ACCEPTED
   ```

4. **–ö—É—Ä—å–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å**
   ```
   PATCH /api/orders/1/status
   Body: {"status": "ON_THE_WAY"}
   ‚Üí 200 OK
   ```

5. **–ö—É—Ä—å–µ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–∫–∞–∑**
   ```
   PATCH /api/orders/1/status
   Body: {"status": "PICKED_UP"}
   ‚Üí 200 OK
   
   PATCH /api/orders/1/status
   Body: {"status": "COMPLETED"}
   ‚Üí 200 OK
   ```

### –ü—Ä–∏–º–µ—Ä 2: –†–∞–±–æ—Ç–∞ —Å OTP

1. **–û—Ç–ø—Ä–∞–≤–∫–∞ OTP –∫–æ–¥–∞**
   ```
   POST /api/auth/send-code
   Body: {"phone": "+79051234567"}
   ‚Üí 200 OK, code="1234"
   ```

2. **–í—Ö–æ–¥ —Å OTP –∫–æ–¥–æ–º**
   ```
   POST /api/auth/login
   Body: {"phone": "+79051234567", "code": "1234"}
   ‚Üí 200 OK, user data
   ```

3. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ —Å —Ç–µ–º –∂–µ –∫–æ–¥–æ–º**
   ```
   POST /api/auth/login
   Body: {"phone": "+79051234567", "code": "1234"}
   ‚Üí 401 Unauthorized (–∫–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)
   ```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–∫–∏

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 400,
    "error": "Bad Request",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {
        "field": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø–æ–ª—è"
    }
}
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

#### 400 Bad Request

**–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 400,
    "error": "Validation Error",
    "message": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö",
    "details": {
        "name": "–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 2 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å",
        "phone": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ü—Ä–∏–º–µ—Ä: +79051234567"
    }
}
```

**–ù–µ–≤–µ—Ä–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:**
```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 400,
    "error": "Bad Request",
    "message": "–ê–¥—Ä–µ—Å –≤–Ω–µ –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è"
}
```

#### 401 Unauthorized

**–ù–µ–≤–µ—Ä–Ω—ã–π OTP –∫–æ–¥:**
```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 401,
    "error": "Bad Request",
    "message": "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"
}
```

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-User-Id:**
```
401 Unauthorized (–ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ)
```

#### 403 Forbidden

**–ù–µ–≤–µ—Ä–Ω–∞—è —Ä–æ–ª—å:**
```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 403,
    "error": "Forbidden",
    "message": "–¢–æ–ª—å–∫–æ –∫—É—Ä—å–µ—Ä—ã –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã"
}
```

#### 404 Not Found

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω:**
```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 404,
    "error": "Not Found",
    "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
}
```

#### 500 Internal Server Error

**–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:**
```json
{
    "timestamp": "2025-01-15T10:00:00+03:00",
    "status": 500,
    "error": "Internal Server Error",
    "message": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞"
}
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫—É—Ä—å–µ—Ä–∞
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ OTP –∫–æ–¥–∞
- [ ] –í—Ö–æ–¥ —Å OTP –∫–æ–¥–æ–º
- [ ] –í—Ö–æ–¥ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º "0000" (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º OTP –∫–æ–¥–µ
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OTP –∫–æ–¥–∞

### –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (`GET /api/users/me`)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ (`PATCH /api/users/me/name`)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ (2-50 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å)
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º –∏–º–µ–Ω–∏

### –ó–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω—ã (ADMIN)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã

### –ü–æ–¥–ø–∏—Å–∫–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (WEEKLY)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (MONTHLY)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ (`GET /api/subscriptions/active`)
- [ ] –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏

### –ó–∞–∫–∞–∑—ã - –ö–ª–∏–µ–Ω—Ç
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ ID
- [ ] –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–¥—Ä–µ—Å–µ –≤–Ω–µ –∑–æ–Ω—ã
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–Ω–µ–µ 1 —á–∞—Å–∞
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏ –±–æ–ª–µ–µ 7 –¥–Ω–µ–π

### –ó–∞–∫–∞–∑—ã - –ö—É—Ä—å–µ—Ä
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (`GET /api/orders/available`)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (`GET /api/orders/active`)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (`GET /api/orders/stats`)
- [ ] –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (ON_THE_WAY)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (PICKED_UP)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (COMPLETED)
- [ ] –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º (CANCELLED_BY_COURIER)
- [ ] –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ —Å—Ç–∞—Ç—É—Å–∞

### –ó–∞–∫–∞–∑—ã - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ (–ª—é–±–æ–π —Å—Ç–∞—Ç—É—Å)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (400)
- [ ] –ù–µ–≤–µ—Ä–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (400)
- [ ] –ù–µ–≤–µ—Ä–Ω—ã–π OTP (401)
- [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (401)
- [ ] –ù–µ–≤–µ—Ä–Ω–∞—è —Ä–æ–ª—å (403)
- [ ] –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (404)
- [ ] –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ (500)

---

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–í Postman –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **Tests**:

```javascript
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ userId –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
if (pm.response.code === 201) {
    const response = pm.response.json();
    pm.collectionVariables.set("clientUserId", response.id);
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ orderId –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
if (pm.response.code === 201) {
    const response = pm.response.json();
    pm.collectionVariables.set("orderId", response.id);
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ OTP –∫–æ–¥–∞
if (pm.response.code === 200 && pm.request.url.path.includes("send-code")) {
    const response = pm.response.json();
    pm.collectionVariables.set("otpCode", response.code);
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ **Tests**:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–≤–µ—Ç–∞
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
pm.test("Response has required fields", function () {
    const response = pm.response.json();
    pm.expect(response).to.have.property('id');
    pm.expect(response).to.have.property('name');
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
pm.test("Validation error format", function () {
    if (pm.response.code === 400) {
        const response = pm.response.json();
        pm.expect(response).to.have.property('timestamp');
        pm.expect(response).to.have.property('status');
        pm.expect(response).to.have.property('error');
        pm.expect(response).to.have.property('message');
    }
});
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8080`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Backend
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

---

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!** üöÄ

