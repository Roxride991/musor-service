# üìç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–¥—Ä–µ—Å–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥—Ä–µ—Å–∞

### –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∞–¥—Ä–µ—Å –≤ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:

1. **–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (`lat` –∏ `lng`):**
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–ø—Ä—è–º—É—é
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–∏–≥–æ–Ω–∞ –∑–æ–Ω—ã

2. **–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ù–ï –ø–µ—Ä–µ–¥–∞–Ω—ã:**
   - –ê–¥—Ä–µ—Å –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á–µ—Ä–µ–∑ `GeocodingService`
   - –í MVP: `GeocodingService` - –∑–∞–≥–ª—É—à–∫–∞, –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—Ç—Ä –û—Ä–µ–Ω–±—É—Ä–≥–∞ (51.7687, 55.1017)
   - –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–∏–≥–æ–Ω–∞ –∑–æ–Ω—ã

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è GeocodingService

```java
// –ó–∞–≥–ª—É—à–∫–∞ - –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—Ç—Ä –û—Ä–µ–Ω–±—É—Ä–≥–∞
public ServiceZone.Coordinate getCoordinates(String address) {
    return new ServiceZone.Coordinate(51.7687, 55.1017);
}
```

**–í–∞–∂–Ω–æ:** –í MVP —ç—Ç–æ –∑–∞–≥–ª—É—à–∫–∞! –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –≥–µ–æ–∫–æ–¥–µ—Ä.

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –¢–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥–µ–æ–∫–æ–¥–µ—Ä–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ –≥–µ–æ–∫–æ–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "lat": 51.7687,
    "lng": 55.1017
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—Ç–æ—á–Ω–æ)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –í MVP –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä –û—Ä–µ–Ω–±—É—Ä–≥–∞
- –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤ –≤–Ω–µ —Ü–µ–Ω—Ç—Ä–∞

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1",
    "pickupTime": "2025-01-20T14:00:00+03:00"
}
```

---

## üîß –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–¥—Ä–µ—Å –≤ –∑–æ–Ω–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∑–æ–Ω—É —Å –ø–æ–ª–∏–≥–æ–Ω–æ–º

```json
POST /api/zones
{
    "name": "–û—Ä–µ–Ω–±—É—Ä–≥",
    "coordinates": [
        {"lat": 51.7687, "lng": 55.1017},  // –Æ–≥–æ-–∑–∞–ø–∞–¥
        {"lat": 51.7887, "lng": 55.1017},  // –°–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥
        {"lat": 51.7887, "lng": 55.1217},  // –°–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫
        {"lat": 51.7687, "lng": 55.1217}   // –Æ–≥–æ-–≤–æ—Å—Ç–æ–∫
    ]
}
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–∏–≥–æ–Ω–∞

**–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∑–æ–Ω—ã:**
- lat: 51.7687 - 51.7887
- lng: 55.1017 - 55.1217

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞:**
```json
{
    "address": "–≥. –û—Ä–µ–Ω–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1",
    "pickupTime": "2025-01-20T14:00:00+03:00",
    "lat": 51.7750,  // –í–Ω—É—Ç—Ä–∏ –∑–æ–Ω—ã
    "lng": 55.1100   // –í–Ω—É—Ç—Ä–∏ –∑–æ–Ω—ã
}
```

---

## üöÄ –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –≥–µ–æ–∫–æ–¥–µ—Ä–æ–º

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤:

1. **–Ø–Ω–¥–µ–∫—Å.–ì–µ–æ–∫–æ–¥–µ—Ä** (–¥–ª—è –†–æ—Å—Å–∏–∏)
   - API: https://yandex.ru/dev/geocoder/
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ: 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

2. **Google Geocoding API**
   - API: https://developers.google.com/maps/documentation/geocoding
   - –ü–ª–∞—Ç–Ω—ã–π, –Ω–æ —Ç–æ—á–Ω—ã–π

3. **OpenStreetMap Nominatim**
   - API: https://nominatim.org/
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏

### –ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ GeocodingService

```java
@Service
public class GeocodingService {
    
    @Value("${geocoder.api.key}")
    private String apiKey;
    
    public ServiceZone.Coordinate getCoordinates(String address) {
        // –í—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API –≥–µ–æ–∫–æ–¥–µ—Ä–∞
        // –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∞–¥—Ä–µ—Å–∞
    }
}
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** –¥–ª—è —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–∏–≥–æ–Ω–∞ –∑–æ–Ω—ã**
3. **–í MVP –≥–µ–æ–∫–æ–¥–µ—Ä - –∑–∞–≥–ª—É—à–∫–∞**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
4. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –≥–µ–æ–∫–æ–¥–µ—Ä

---

## üìä –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏

```
–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
    ‚Üì
–ï—Å—Ç—å lat –∏ lng?
    ‚îú‚îÄ –î–∞ ‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    ‚îî‚îÄ –ù–µ—Ç ‚Üí GeocodingService.getCoordinates(address)
              ‚Üì
         (–í MVP: —Ü–µ–Ω—Ç—Ä –û—Ä–µ–Ω–±—É—Ä–≥–∞)
    ‚Üì
–ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∑–æ–Ω—É
    ‚Üì
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–æ–Ω—ã –≤ –ø–æ–ª–∏–≥–æ–Ω
    ‚Üì
GeoUtils.isPointInPolygon(point, polygon)
    ‚Üì
–¢–æ—á–∫–∞ –≤ –ø–æ–ª–∏–≥–æ–Ω–µ?
    ‚îú‚îÄ –î–∞ ‚Üí –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω ‚úÖ
    ‚îî‚îÄ –ù–µ—Ç ‚Üí –û—à–∏–±–∫–∞ "–ê–¥—Ä–µ—Å –≤–Ω–µ –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è" ‚ùå
```

---

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã!** ‚úÖ








